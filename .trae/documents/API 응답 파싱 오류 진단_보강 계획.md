## 원인 설명
- 콘솔의 `API Error Details: Error: 시세 서버 응답 처리 실패:`는 클라이언트가 HTTP 응답을 받았지만 JSON 파싱(`res.json()`)에 실패했음을 의미합니다.
- 코드 출처: `services/priceService.ts:60–66`에서 JSON 파싱 실패 시 `Error('시세 서버 응답 처리 실패: ' + text)`를 던집니다. 이 에러가 청크별 `catch`에서 로깅됩니다(`API Error Details:`).
- 상태코드가 200(성공)이어도 본문이 JSON이 아니거나 손상/부분 전송되면 발생합니다. 서버가 HTML/텍스트 에러 페이지를 200으로 반환하거나, 대용량 응답 중 스트림이 중간에 끊겨도 같은 증상이 나타납니다.

## 즉시 진단 방법
1. 브라우저 Network 탭에서 실패한 요청 선택.
2. `Status`, `Content-Type`, `Response` 본문 확인:
   - `Status=200`인데 `Content-Type=text/html` 또는 `text/plain`이고 본문이 JSON이 아니면 서버 포맷 문제.
   - 본문이 빈 문자열/잘린 JSON이면 스트리밍/타임아웃/메모리 제약 의심.
3. 서버 로그(Cloud Run)에서 해당 요청 시간대 에러 메시지 확인.

## 코드 측 개선(클라이언트)
1. `fetchStocksBatch` 파싱 로깅 강화:
   - 파싱 실패 시 `status`, `content-type`, `content-length`(가능 시), 본문 앞부분(최대 N자) 로깅.
2. 파싱 재시도/후퇴:
   - 파싱 실패 시 1회 재시도(지연 1s). 연속 실패 시 에러 유지.
3. 청크 메타정보 로깅:
   - `chunkIndex`, `chunkSize`, `tickers` 일부 샘플 로깅해 문제가 난 청크 식별.
4. 선택: 문제 청크 자동 분할(예: 20→10) 후 재시도. 재시도 후에도 실패하면 해당 하위 청크만 실패 처리.

## 서버 측 제안(Cloud Run)
- 항상 `application/json`과 유효 JSON을 반환하도록 보장.
- 에러 시 적절한 4xx/5xx 상태코드 사용(현재 메시지는 파싱 오류이므로 200 가능성 높음).
- 대량 응답의 페이로드 크기/타임아웃 설정 점검.

## 검증 계획
- 70+ 종목 업데이트 실행.
- 실패 청크에서 진단 로그로 상태/본문 유형 확인.
- 재시도/후퇴로 부분 성공률이 개선되는지 확인.
- UI의 성공/실패 카운트가 부분 성공을 반영하는지 검사.